<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/product.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/nav.css">
    <link rel="stylesheet" href="/css/blog-post.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/redmond/jquery-ui.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.js"></script>

  </head>
<body>
<!-- mainheader -->
<div id="header-navbar">
</div>
<!-- mainheader -->

<!-- mainbody product -->
<div class="container-fluid d-flex align-items-center text-center header_title">
  <h2 class="container post_title text-uppercase mb-0 " id="aaa">Trang Sản Phẩm</h2>
</div>
  <div class="container" id="bodyproduct">
    <!-- <input class="inputtext form-control col-xl-3 col-12" type="search" placeholder="Tìm kiếm"> -->
        <div class="row mt-3 ">
          <div class="navheader">
          <ul class="nav nav-tabs">
              <li class="nav-item">
                <a class="nav-link filterpall" data-toggle="tab" href="#menu1">Tất cã</a>
              </li>
              <li class="nav-item">
                <a class="nav-link filterpdomat" data-toggle="tab" href="">Đồ mát</a>
              </li>
              <li class="nav-item">
                <a class="nav-link filterphopkho" data-toggle="tab" href="">Đồ hộp-Đồ khô</a>
              </li>
              <li class="nav-item">
                <a class="nav-link filterpchucnang" data-toggle="tab" href="">Thực phẩm chức năng</a>
              </li>
          </ul>
          </div>
         
          <div class="selecttype col mt-3">
            <div class="d-flex justify-content-end">

              <!-- price range -->
              <div class="demo">
                <div >
                  <label for="amount">Price range:</label>
                  <input type="text" id="amount" style="border:0; color:#187AAB; font-weight:bold;" />
                </div>
                <div id="slider-range"></div>
              </div>

              <div class="bt1" style="margin-left: 60px;">
                  <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                    Thứ tự mặc định
                  </button>
                  <div class="dropdown-menu">
                    <a class="dropdown-item" href="#" onclick="lowprice()">Từ thấp đến cao</a>
                    <a class="dropdown-item" href="#" onclick="hightprice()">Từ cao đến thấp</a>
                    <a class="dropdown-item" href="#">Được Mua nhiều nhất</a>
                  </div>
              </div>

            </div>
          </div>
      </div>
        <div class="tab-content">
          <div id="menu1" class="container tab-pane active">
          <div class="row" id="upload-products">

            <!-- demo price range product -->
                <div class="col-md-3 col-6 mt-5 carditem" data-price="500">
                  </div>
             <div class="col-md-3 col-6 mt-5 carditem" data-price="10">
              </div>
            <!-- demo price range product -->

          </div>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col d-flex justify-content-end">
          <ul class="pagination">
              <li class="page-item"><a class="page-link" href="#">Previous</a></li>
              <li class="page-item"><a class="page-link" href="#">1</a></li>
              <li class="page-item"><a class="page-link" href="#">2</a></li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item"><a class="page-link" href="#">Next</a></li>
            </ul>
      </div>
    </div>
  </div>

<!-- Modal product detail-->
<div class="modal" id="addProductModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header ">
        <h5 class="modal-title text-uppercase text-white" id="exampleModalLabel">Chi Tiết Sản Phẩm</h5>
        <button type="button" class="btn" data-dismiss="modal"><i class="fas fa-times"></i></button>
      </div>
      <div class="modal-body">
        <!-- mainbody product detail -->
        <div class="container" id="upload-detailproducts">

          <div class="row mt-3 d-flex justify-content-center">
              <div class="imagecontent col-md-7">
                <div id="imgdetailmodal" class="">
                  <img class="imgdetail" src="/images/sanpham1.jpg">
                </div>
              </div>
              <div class="info col-md-5">
                  <h4 id="headerdetail" class="headerdetail"></h4>
                  <p>Mã Sản Phẩm: <span id="detailmsp" ></span> </p>
                  <p>Danh mục: <a id="detaildm" href="#">Thực phẩm hàng ngày, Đồ mát</a></p>
                  <h4 class="headerdetail"><span id="detailprice"></span>.000 ₫ / Sản phẩm</h4>
                  <div class="row text-center">
                    <p class="col-5"> Số Lượng: </p>
                    <div class="quantity col-7">
                      <button class="btn minus1">-</button>
                      <input class="quantity1" id="valueproduct" min="0" name="form-0-quantity" value="1" type="number">
                      <button class="btn add1">+</button>
                    </div>
                  </div>
                  <a id="addcartdetail" class="addcart btn btn-primary mt-2">
                      <i class="fas fa-shopping-cart"></i>  
                      Chọn Mua</a>
              </div>
          </div>
          <div class="row mt-3">
              <div class="headercontent col"></div>
          </div>
        </div>
        </div>
      </div>
    </div>
  </div>



<!-- mainfooter -->
<div id="footer-all">
</div>
<!-- mainfooter -->


<script>
// Price range
function showProducts(minPrice, maxPrice) {
  $("#upload-products .carditem ").hide().filter(function() {
    var price = parseInt($(this).data("price"), 0);
    return price >= minPrice && price <= maxPrice;
  }).show();
}

$(function() {
  var prices = $('#upload-products .carditem').map(function() {
    return $(this).data('price');
  }).get();
  var options = {
      range: true,
      min: Math.min.apply(Math, prices),
      max: Math.max.apply(Math, prices),
      values: [0, 500],
      slide: function(event, ui) {
        var min = ui.values[0],
          max = ui.values[1];

        $("#amount").val(min +  ".000đ -" + max +".000đ");
        showProducts(min, max);
      }
    },
    min, max;

  $("#slider-range").slider(options);

  min = $("#slider-range").slider("values", 0);
  max = $("#slider-range").slider("values", 1);

  $("#amount").val(min +  ".000đ -" + max +".000đ");

  showProducts(min, max);
});

//sort product with button
function lowprice() {
  var list, i, switching, b, shouldSwitch;
  list = document.getElementById("upload-products");
  switching = true;
  /* Make a loop that will continue until
  no switching has been done: */
  while (switching) {
    // start by saying: no switching is done:
    switching = false;
    b = list.getElementsByClassName("productprice");
    a = list.getElementsByClassName("carditem")
    // Loop through all list-items:
    for (i = 0; i < (b.length - 1); i++) {
      // start by saying there should be no switching:
      shouldSwitch = false;
      /* check if the next item should
      switch place with the current item: */
      
      if (Number(b[i].innerHTML) > Number(b[i + 1].innerHTML)) {
        /* if next item is numerically
        lower than current item, mark as a switch
        and break the loop: */
        shouldSwitch = true;
        break;
      }
    }
    if (shouldSwitch) {
      /* If a switch has been marked, make the switch
      and mark the switch as done: */
      a[i].parentNode.insertBefore(a[i + 1], a[i]);
      switching = true;
    }
  }
}

function hightprice() {
  var list, i, switching, b, shouldSwitch;
  list = document.getElementById("upload-products");
  switching = true;
  while (switching) {
    switching = false;
    b = list.getElementsByClassName("productprice");
    a = list.getElementsByClassName("carditem")
    for (i = 0; i < (b.length - 1); i++) {
      shouldSwitch = false;
      if (Number(b[i].innerHTML) < Number(b[i + 1].innerHTML)) {
        shouldSwitch = true;
        break;
      }
    }
    if (shouldSwitch) {
      a[i].parentNode.insertBefore(a[i + 1], a[i]);
      switching = true;
    }
  }
}

// value button
$("input.quantity1").each(function(){
    var $this = $(this),
    qty = $this.parent().find('.btn'),
    d = 1
    $(qty).on('click',function(){
        if ($(this).hasClass('minus1')){  
                d+=-1
            if(d<1) alert('Số lượng sản phẩm cần mua tối thiểu là 1')      
        }else if ($(this).hasClass('add1')){
            d += 1  
        }     
        $this.attr('value',d).val(d)
    })
});

//filter with danh muc
var carditem = document.getElementsByClassName('carditem');
var filterpall = document.querySelector('.filterpall');
filterpall.addEventListener('click', function pall(){
        for (var i = 0; i < carditem.length; i++){
         carditem[i].style.display = '';
        }
  })
var filterpdomat = document.querySelector('.filterpdomat');
filterpdomat.addEventListener('click', function pall(){
    var danhmuc = document.getElementsByClassName('danhmuc');
     for (var i = 0; i < carditem.length; i++){
        if(danhmuc[i].innerText == "Đồ mát"){
            carditem[i].style.display = '';
        }else{
            carditem[i].style.display = 'none';
        }
     }
})
var filterphopkho = document.querySelector('.filterphopkho');
filterphopkho.addEventListener('click', function pall(){
    var danhmuc = document.getElementsByClassName('danhmuc');
     for (var i = 0; i < carditem.length; i++){
        if(danhmuc[i].innerText == "Đồ hộp-Đồ khô"){
            carditem[i].style.display = '';
        }else{
            carditem[i].style.display = 'none';
        }
     }
})
var filterpchucnang = document.querySelector('.filterpchucnang');
filterpchucnang.addEventListener('click', function pall(){
    var danhmuc = document.getElementsByClassName('danhmuc');
     for (var i = 0; i < carditem.length; i++){
        if(danhmuc[i].innerText == "Thực phẩm chức năng"){
            carditem[i].style.display = '';
        }else{
            carditem[i].style.display = 'none';
        }
     }
})

</script>

<script src="/homepage/ajax.js"></script>
<script src="/js/app.js"></script>
<script src="/js/payment.js"></script>

</body>
</html>